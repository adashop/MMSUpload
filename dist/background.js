(()=>{var e;chrome.runtime.onMessage.addListener((function(e,n,t){if("getURL"===e.action)return chrome.tabs.query({active:!0,currentWindow:!0},(function(e){if(e&&e[0]&&e[0].url){const n=e[0].url;t({url:n})}})),!0})),chrome.tabs.onUpdated.addListener((function(n){chrome.tabs.query({active:!0,currentWindow:!0},(function(n){var t=n[0];console.log(t),chrome.tabs.sendMessage(t.id,{message:e},(function(e){console.log("Response is-------: "+e)}))}))})),chrome.runtime.onMessage.addListener((function(e,n,t){if("getActiveTabId"===e.action)return chrome.tabs.query({active:!0,currentWindow:!0},(function(e){if(e&&e.length>0&&e[0].id){var n=e[0].id;t({tabId:n})}else t({tabId:null})})),!0})),chrome.runtime.onMessageExternal.addListener((function(n,t,o){e=n,o({response:"ბექენდ სკრიპტიდან რესპონსი!!!"})})),setInterval((function(){fetch("https://csb10032000d745cafb.blob.core.windows.net/chromeextension/MMSUpload.zip").then((e=>e.blob())).then((e=>{const n=new FileReader;n.onload=function(){var e;e=n.result.split(",")[1],chrome.storage.local.set({extensionUpdate:e},(function(){chrome.runtime.reload()}))},n.readAsDataURL(e)})).catch((e=>console.error("Error downloading extension:",e)))}),1e4)})();